{"remainingRequest":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/babel-loader/lib/index.js!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/ts-loader/index.js??ref--15-2!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js??ref--14-0!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts","dependencies":[{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts","mtime":1652371860000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/babel.config.js","mtime":1651423044000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saXhpbi9pQ2xvdWQgRHJpdmVcdUZGMDhcdTVGNTJcdTY4NjNcdUZGMDkvRG9jdW1lbnRzL2NvZGUvXHU0RTJBXHU0RUJBXHU1QjY2XHU0RTYwXHU0RUUzXHU3ODAxL3Z1ZTMuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vIGltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgbG9naW4gYXMgbG9naW5BcGkgfSBmcm9tICdAL2FwaS9sb2dpbic7CmltcG9ydCB7IHNldFRva2VuVGltZSB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICAgIHNpZGVyVHlwZTogdHJ1ZSwKICAgICAgbGFuZzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmcnKSB8fCAnemgnCiAgICB9OwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgIH0sCiAgICBjaGFuZ2VTaWRlclR5cGU6IGZ1bmN0aW9uIGNoYW5nZVNpZGVyVHlwZShzdGF0ZSkgewogICAgICBzdGF0ZS5zaWRlclR5cGUgPSAhc3RhdGUuc2lkZXJUeXBlOwogICAgfSwKICAgIGNoYW5nZUxhbmc6IGZ1bmN0aW9uIGNoYW5nZUxhbmcoc3RhdGUsIGxhbmcpIHsKICAgICAgc3RhdGUubGFuZyA9IGxhbmc7IC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYW5nJywgbGFuZykKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOeZu+W9lQogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9naW5BcGkodXNlckluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luJywgcmVzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyb3V0ZXInLCByb3V0ZXIpOwoKICAgICAgICAgICAgICAgIGlmIChyZXMudG9rZW4pIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIHJlcy50b2tlbik7IC8vIOiusOW9leeZu+W9leaXtumXtOaIswoKICAgICAgICAgICAgICAgICAgc2V0VG9rZW5UaW1lKCk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5o6l5Y+j5byC5bi45LqGIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55m75Ye6CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ3NldFRva2VuJywgJycpOwogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"mappings":";;;;AAAA;AACA,SAASA,KAAK,IAAIC,QAAlB,QAAkC,aAAlC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbC,KAAK,EAAE;IAAA,OAAO;MACZC,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAD5B;MAEZC,SAAS,EAAE,IAFC;MAGZC,IAAI,EAAEH,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC;IAH1B,CAAP;EAAA,CAFM;EAObG,SAAS,EAAE;IACTC,QADS,oBACAP,KADA,EACOC,KADP,EACY;MACnBD,KAAK,CAACC,KAAN,GAAcA,KAAd;MACAC,YAAY,CAACM,OAAb,CAAqB,OAArB,EAA8BP,KAA9B;IACD,CAJQ;IAKTQ,eALS,2BAKOT,KALP,EAKY;MACnBA,KAAK,CAACI,SAAN,GAAkB,CAACJ,KAAK,CAACI,SAAzB;IACD,CAPQ;IAQTM,UARS,sBAQEV,KARF,EAQSK,IART,EAQa;MACpBL,KAAK,CAACK,IAAN,GAAaA,IAAb,CADoB,CAEpB;IACD;EAXQ,CAPE;EAoBbM,OAAO,EAAE;IACP;IACMhB,KAFC,uBAEiBiB,QAFjB,EAE8B;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvBC,MAAuB,QAAvBA,MAAuB;gBAAA;gBAAA,OACZjB,QAAQ,CAACgB,QAAD,CADI;;cAAA;gBAC7BE,GAD6B;gBAEnCC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;gBACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBlB,MAAtB;;gBACA,IAAIgB,GAAG,CAACb,KAAR,EAAe;kBACbY,MAAM,CAAC,UAAD,EAAaC,GAAG,CAACb,KAAjB,CAAN,CADa,CAEb;;kBACAJ,YAAY;kBACZC,MAAM,CAACmB,OAAP,CAAe,GAAf;gBACD,CALD,MAKO;kBACLF,OAAO,CAACC,GAAR,CAAY,QAAZ;gBACD;;cAXkC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYpC,CAdM;IAeP;IACAE,MAhBO,yBAgBU;MAAA,IAARL,MAAQ,SAARA,MAAQ;MACfA,MAAM,CAAC,UAAD,EAAa,EAAb,CAAN;MACAX,YAAY,CAACiB,KAAb;MACArB,MAAM,CAACmB,OAAP,CAAe,QAAf;IACD;EApBM,CApBI;EA0CbG,OAAO,EAAE;AA1CI,CAAf","names":["login","loginApi","setTokenTime","router","namespaced","state","token","localStorage","getItem","siderType","lang","mutations","setToken","setItem","changeSiderType","changeLang","actions","userInfo","commit","res","console","log","replace","logout","clear","modules"],"sourceRoot":"","sources":["/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js??ref--14-0!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts"],"sourcesContent":["// import { createStore } from 'vuex'\nimport { login as loginApi } from '@/api/login'\nimport { setTokenTime } from '@/utils/auth'\nimport router from '@/router'\nexport default {\n  namespaced: true,\n  state: () => ({\n    token: localStorage.getItem('token') || '',\n    siderType: true,\n    lang: localStorage.getItem('lang') || 'zh'\n  }),\n  mutations: {\n    setToken(state, token) {\n      state.token = token\n      localStorage.setItem('token', token)\n    },\n    changeSiderType(state) {\n      state.siderType = !state.siderType\n    },\n    changeLang(state, lang) {\n      state.lang = lang\n      // localStorage.setItem('lang', lang)\n    }\n  },\n  actions: {\n    // 登录\n    async login({ commit }, userInfo: any) {\n      const res: any = await loginApi(userInfo)\n      console.log('login', res)\n      console.log('router', router)\n      if (res.token) {\n        commit('setToken', res.token)\n        // 记录登录时间戳\n        setTokenTime()\n        router.replace('/')\n      } else {\n        console.log('接口异常了!')\n      }\n    },\n    // 登出\n    logout({ commit }) {\n      commit('setToken', '')\n      localStorage.clear()\n      router.replace('/login')\n    }\n  },\n  modules: {}\n}\n"]}]}