{"remainingRequest":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/babel-loader/lib/index.js!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/ts-loader/index.js??ref--15-2!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js??ref--14-0!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts","dependencies":[{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts","mtime":1651657576000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/babel.config.js","mtime":1651423044000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saXhpbi9pQ2xvdWQgRHJpdmVcdUZGMDhcdTVGNTJcdTY4NjNcdUZGMDkvRG9jdW1lbnRzL2NvZGUvXHU0RTJBXHU0RUJBXHU1QjY2XHU0RTYwXHU0RUUzXHU3ODAxL3Z1ZTMuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vIGltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgbG9naW4gYXMgbG9naW5BcGkgfSBmcm9tICdAL2FwaS9sb2dpbic7CmltcG9ydCB7IHNldFRva2VuVGltZSB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICAgIHNpZGVyVHlwZTogdHJ1ZQogICAgfTsKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICB9LAogICAgY2hhbmdlU2lkZXJUeXBlOiBmdW5jdGlvbiBjaGFuZ2VTaWRlclR5cGUoc3RhdGUpIHsKICAgICAgc3RhdGUuc2lkZXJUeXBlID0gIXN0YXRlLnNpZGVyVHlwZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOeZu+W9lQogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9naW5BcGkodXNlckluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luJywgcmVzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyb3V0ZXInLCByb3V0ZXIpOwoKICAgICAgICAgICAgICAgIGlmIChyZXMudG9rZW4pIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIHJlcy50b2tlbik7IC8vIOiusOW9leeZu+W9leaXtumXtOaIswoKICAgICAgICAgICAgICAgICAgc2V0VG9rZW5UaW1lKCk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5o6l5Y+j5byC5bi45LqGIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55m75Ye6CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ3NldFRva2VuJywgJycpOwogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTs="},{"version":3,"mappings":";;;;AAAA;AACA,SAASA,KAAK,IAAIC,QAAlB,QAAkC,aAAlC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,eAAe;EACbC,UAAU,EAAE,IADC;EAEbC,KAAK,EAAE;IAAA,OAAO;MACZC,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAD5B;MAEZC,SAAS,EAAE;IAFC,CAAP;EAAA,CAFM;EAMbC,SAAS,EAAE;IACTC,QADS,oBACAN,KADA,EACOC,KADP,EACY;MACnBD,KAAK,CAACC,KAAN,GAAcA,KAAd;MACAC,YAAY,CAACK,OAAb,CAAqB,OAArB,EAA8BN,KAA9B;IACD,CAJQ;IAKTO,eALS,2BAKOR,KALP,EAKY;MACnBA,KAAK,CAACI,SAAN,GAAkB,CAACJ,KAAK,CAACI,SAAzB;IACD;EAPQ,CANE;EAebK,OAAO,EAAE;IACP;IACMd,KAFC,uBAEiBe,QAFjB,EAE8B;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvBC,MAAuB,QAAvBA,MAAuB;gBAAA;gBAAA,OACZf,QAAQ,CAACc,QAAD,CADI;;cAAA;gBAC7BE,GAD6B;gBAEnCC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;gBACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBhB,MAAtB;;gBACA,IAAIc,GAAG,CAACX,KAAR,EAAe;kBACbU,MAAM,CAAC,UAAD,EAAaC,GAAG,CAACX,KAAjB,CAAN,CADa,CAEb;;kBACAJ,YAAY;kBACZC,MAAM,CAACiB,OAAP,CAAe,GAAf;gBACD,CALD,MAKO;kBACLF,OAAO,CAACC,GAAR,CAAY,QAAZ;gBACD;;cAXkC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYpC,CAdM;IAeP;IACAE,MAhBO,yBAgBU;MAAA,IAARL,MAAQ,SAARA,MAAQ;MACfA,MAAM,CAAC,UAAD,EAAa,EAAb,CAAN;MACAT,YAAY,CAACe,KAAb;MACAnB,MAAM,CAACiB,OAAP,CAAe,QAAf;IACD;EApBM,CAfI;EAqCbG,OAAO,EAAE;AArCI,CAAf","names":["login","loginApi","setTokenTime","router","namespaced","state","token","localStorage","getItem","siderType","mutations","setToken","setItem","changeSiderType","actions","userInfo","commit","res","console","log","replace","logout","clear","modules"],"sourceRoot":"","sources":["/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/node_modules/eslint-loader/index.js??ref--14-0!/Users/lixin/iCloud Drive（归档）/Documents/code/个人学习代码/vue3.2/src/store/modules/app.ts"],"sourcesContent":["// import { createStore } from 'vuex'\nimport { login as loginApi } from '@/api/login'\nimport { setTokenTime } from '@/utils/auth'\nimport router from '@/router'\nexport default {\n  namespaced: true,\n  state: () => ({\n    token: localStorage.getItem('token') || '',\n    siderType: true\n  }),\n  mutations: {\n    setToken(state, token) {\n      state.token = token\n      localStorage.setItem('token', token)\n    },\n    changeSiderType(state) {\n      state.siderType = !state.siderType\n    }\n  },\n  actions: {\n    // 登录\n    async login({ commit }, userInfo: any) {\n      const res: any = await loginApi(userInfo)\n      console.log('login', res)\n      console.log('router', router)\n      if (res.token) {\n        commit('setToken', res.token)\n        // 记录登录时间戳\n        setTokenTime()\n        router.replace('/')\n      } else {\n        console.log('接口异常了!')\n      }\n    },\n    // 登出\n    logout({ commit }) {\n      commit('setToken', '')\n      localStorage.clear()\n      router.replace('/login')\n    }\n  },\n  modules: {}\n}\n"]}]}